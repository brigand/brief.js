(function(l,b,g){var h=[],m=0,k=function(a){a=this.querySelectorAll(a);return 1===a.length?a[0]:a};b.prototype.brief=k;b.prototype.on=function(a,c,e,f){"boolean"==typeof e&&(f=e,e=void 0);a=a.split(" ");a.forEach(function(a){var d=c;f&&(d=function(f){this.off(a,d,e);c(f)});e?(d=function(d){var b=this.brief(e);if(b.length||d.srcElement!=b)for(var h=0,g=b.length;h<g;h++){if(d.srcElement==b[h]){f&&this.off(a,c,e);c(d);break}}else f&&this.off(a,c,e),c(d)},this.addEventListener(a,d,!0),h[m++]={originalCallback:c,createdCallback:d}):this.addEventListener(a,d,!1)},this);return this};b.prototype.one=function(){var a=Array.prototype.slice.call(arguments,0);a.push(!0);console.log(a);return b.prototype.on.apply(this,a)};g.prototype.on=function(a,c,e){[].forEach.call(this,function(f){f.on(a,c,e)});return this};g.prototype.one=function(){var a=Array.prototype.slice.call(arguments,0);[].forEach.call(this,function(c){c.one.apply(c,a)})};b.prototype.off=function(a,c,e){a=a.split(" ");a.forEach(function(a){if(e)for(var b=0,d=h.length;b<d;b++){var g=h[b];if(g.originalCallback==c){this.removeEventListener(a,g.createdCallback,!0);h.splice(b,1);break}}else this.removeEventListener(a,c,!1)},this);return this};g.prototype.off=function(a,c,b){[].forEach.call(this,function(f){f.off(a,c,b)});return this};window.brief=k.bind(l);window.$||(window.$=k.bind(l))})(document,Element,NodeList);
