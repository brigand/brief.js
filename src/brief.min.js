/* brief.js | Copyright 2014 Jeffrey E. Shaver II | Released under the MIT license | https://github.com/jeffshaver/brief.js/blob/master/LICENSE */
(function(m,c,d){var l=[],r=0;d=d.prototype;c=c.prototype;var g=d.slice,s=d.splice,n=d.forEach,h=d.push,t=d.pop,q=c.matchesSelector||c.msMatchesSelector||c.mozMatchesSelector||c.webkitMatchesSelector||c.oMatchesSelector,e=function(a){return new e.fn.create(a)};e.fn=e.prototype={length:0,splice:function(){s.apply(this,g.call(arguments,0));return this},push:function(){h.apply(this,g.call(arguments,0));return this},pop:function(){t.apply(this)},indexOf:function(a){for(var b=0;b<this.length;b++)if(q.call(this[b],a))return b;return-1},get:function(a){return this[a]},find:function(a){var b=[];for(this.forEach(function(f){h.apply(b,g.call(f.querySelectorAll(a),0))});0<this.length;)this.pop();h.apply(this,b);return this},forEach:function(){n.apply(this,g.call(arguments,0))},on:function(a,b,f,p){var k=b,e=this;"boolean"==typeof f&&(p=f,f=void 0);a.constructor==String&&(a=a.split(" "));p&&(k=function(f){e.off(a,k,!1);b.call(this,f)});a.forEach(function(a){n.call(this,function(c){f?(k=function(c){q.call(c.srcElement,f)&&(p&&e.off(a,b,f),b.call(this,c))},l[r++]={originalCallback:b,createdCallback:k},c.addEventListener(a,k,!0)):c.addEventListener(a,k,!1)})},this)},off:function(a,b,c){a.constructor==String&&(a=a.split(" "));a.forEach(function(a){n.call(this,function(e){if(c)for(var d=0,g=l.length;d<g;d++){var h=l[d];if(h.originalCallback==b){e.removeEventListener(a,h.createdCallback,!0);l.splice(d,1);break}}else e.removeEventListener(a,b,!1)})},this)},once:function(a,b,c){var d=g.call(arguments,0);d.push(!0);return e.fn.on.apply(this,d)}};(e.fn.create=function(a){a=m.querySelectorAll(a);h.apply(this,g.call(a,0));return this}).prototype=e.fn;window.brief=e.bind(m);window.$||(window.$=e.bind(m))})(document,Element,Array);