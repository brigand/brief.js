/* brief.js | Copyright 2014 Jeffrey E. Shaver II | Released under the MIT license | https://github.com/jeffshaver/brief.js/blob/master/LICENSE */
(function(m,g,f){var k=[],r=0,d=f.prototype.slice,s=f.prototype.splice,n=f.prototype.forEach,l=f.prototype.push,t=f.prototype.pop,q=g.prototype.matchesSelector||g.prototype.msMatchesSelector||g.prototype.mozMatchesSelector||g.prototype.webkitMatchesSelector||g.prototype.oMatchesSelector,c=function(a){return new c.fn.create(a)};c.fn=c.prototype={length:0,splice:function(){s.apply(this,d.call(arguments,0));return this},push:function(){l.apply(this,d.call(arguments,0));return this},pop:function(){t.apply(this)},indexOf:function(a){for(var b=0;b<this.length;b++)if(q.call(this[b],a))return b;return-1},get:function(a){return this[a]},find:function(a){var b=[];for(this.forEach(function(e){l.apply(b,d.call(e.querySelectorAll(a),0))});0<this.length;)this.pop();l.apply(this,b);return this},forEach:function(){n.apply(this,d.call(arguments,0))},on:function(a,b,e,p){var h=b,c=this;"boolean"==typeof e&&(p=e,e=void 0);a.constructor==String&&(a=a.split(" "));p&&(h=function(e){c.off(a,h,!1);b.call(this,e)});a.forEach(function(a){n.call(this,function(d){e?(h=function(d){q.call(d.srcElement,e)&&(p&&c.off(a,b,e),b.call(this,d))},k[r++]={originalCallback:b,createdCallback:h},d.addEventListener(a,h,!0)):d.addEventListener(a,h,!1)})},this)},off:function(a,b,e){a.constructor==String&&(a=a.split(" "));a.forEach(function(a){n.call(this,function(d){if(e)for(var c=0,g=k.length;c<g;c++){var f=k[c];if(f.originalCallback==b){d.removeEventListener(a,f.createdCallback,!0);k.splice(c,1);break}}else d.removeEventListener(a,b,!1)})},this)},once:function(a,b,e){var f=d.call(arguments,0);f.push(!0);return c.fn.on.apply(this,f)}};(c.fn.create=function(a){a=m.querySelectorAll(a);l.apply(this,d.call(a,0));return this}).prototype=c.fn;window.brief=c.bind(m);window.$||(window.$=c.bind(m))})(document,Element,Array);