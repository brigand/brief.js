/* brief.js | Copyright 2014 Jeffrey E. Shaver II | Released under the MIT license | https://github.com/jeffshaver/brief.js/blob/master/LICENSE */
(function(m,b,e){var g=[],n=Array.prototype.slice,k=Array.prototype.forEach,p=b.prototype.matchesSelector||b.prototype.msMatchesSelector||b.prototype.mozMatchesSelector||b.prototype.webkitMatchesSelector||b.prototype.oMatchesSelector,q=0,l=function(a){a=this.querySelectorAll(a);return 1===a.length?a[0]:a};b.prototype.brief=l;b.prototype.on=function(a,f,c,b){"boolean"==typeof c&&(b=c,c=void 0);a.constructor==String&&(a=a.split(" "));a.forEach(function(a){var d=f;b&&(d=function(b){this.off(a,d,c);f(b)});c?(d=function(d){p.call(d.srcElement,c)&&(b&&this.off(a,f,c),f(d))},this.addEventListener(a,d,!0),g[q++]={originalCallback:f,createdCallback:d}):this.addEventListener(a,d,!1)},this);return this};b.prototype.once=function(){var a=n.call(arguments,0);a.push(!0);return b.prototype.on.apply(this,a)};e.prototype.on=function(a,b,c){k.call(this,function(r){r.on(a,b,c)});return this};e.prototype.once=function(){var a=n.call(arguments,0);k.call(this,function(b){b.once.apply(b,a)})};b.prototype.off=function(a,b,c){a.constructor==String&&(a=a.split(" "));a.forEach(function(a){if(c)for(var h=0,d=g.length;h<d;h++){var e=g[h];if(e.originalCallback==b){this.removeEventListener(a,e.createdCallback,!0);g.splice(h,1);break}}else this.removeEventListener(a,b,!1)},this);return this};e.prototype.off=function(a,b,c){k.call(this,function(e){e.off(a,b,c)});return this};window.brief=l.bind(m);window.$||(window.$=l.bind(m))})(document,Element,NodeList);
